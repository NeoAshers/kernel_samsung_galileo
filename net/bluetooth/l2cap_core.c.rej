--- net/bluetooth/l2cap_core.c
+++ net/bluetooth/l2cap_core.c
@@ -3210,7 +3206,7 @@ static int l2cap_build_conf_req(struct l2cap_chan *chan, void *data)
 
 done:
 	if (chan->imtu != L2CAP_DEFAULT_MTU)
-		l2cap_add_conf_opt(&ptr, L2CAP_CONF_MTU, 2, chan->imtu, endptr - ptr);
+		l2cap_add_conf_opt(&ptr, L2CAP_CONF_MTU, 2, chan->imtu);
 
 	switch (chan->mode) {
 	case L2CAP_MODE_BASIC:
@@ -3577,7 +3571,7 @@ static int l2cap_parse_conf_rsp(struct l2cap_chan *chan, void *rsp, int len,
 				return -ECONNREFUSED;
 
 			l2cap_add_conf_opt(&ptr, L2CAP_CONF_EFS, sizeof(efs),
-					   (unsigned long) &efs, endptr - ptr);
+					   (unsigned long) &efs);
 			break;
 
 		case L2CAP_CONF_FCS:
